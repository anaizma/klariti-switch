<!DOCTYPE html>
<html lang = "en">
    
    <head>
        <meta charset = "UTF-8"/>
        <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;600&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="style.css">
        <title> Klariti Switch</title>


    </head>

    <!--Start of Body-->
    <body>
        <h1>Switch is off</h1>
        <button onClick = "toggleSwitch()">Toggle</button>

        <!--This is the backend message-->
        <div id = "message"></div>

        <!--Toggle JS-->
        <script> 
        let isOn = false;

        function toggleSwitch() {
            isOn = !isOn;
            document.querySelector("h1").textContent = "Switch is " + (isOn ? "on" : "off");
        }
        </script>

        <!--Get messgaes from backend-->
        <script>
            fetch("https://klariti-switch-production.up.railway.app/") //so this is basically saying, go ask the fastAPI server
                .then(function(response) {
                    return response.json();
                })  // So when the server responds, convert what it gives back into real javascript data, not just text
                .then(function(data) {
                    document.getElementById("message").innerText = data.message;
                }); //basically finds the HTML element with the id "message" and updates its text to show the value from the backend. so it takes teh message from the backend and puts it onto your page.
        </script>




    </body>





</html>